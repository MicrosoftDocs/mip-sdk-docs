<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIP SDK for C++: mip::PolicyHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIP SDK for C++
   &#160;<span id="projectnumber">1.15</span>
   </div>
   <div id="projectbrief">Doxygen-generated documentation for MIP SDK written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classmip_1_1PolicyHandler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmip_1_1PolicyHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mip::PolicyHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides an interface for all policy handler functions on a file.  
 <a href="classmip_1_1PolicyHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="policy__handler_8h_source.html">src/api/mip/upe/policy_handler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a91d1cfd317dd2b2559d7db0c169d05b5"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::shared_ptr&lt; <a class="el" href="classmip_1_1Action.html">Action</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmip_1_1PolicyHandler.html#a91d1cfd317dd2b2559d7db0c169d05b5">ComputeActions</a> (const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;state)=0</td></tr>
<tr class="memdesc:a91d1cfd317dd2b2559d7db0c169d05b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the rules in the handler based on the provided state and returns the list of actions to be executed.  <a href="classmip_1_1PolicyHandler.html#a91d1cfd317dd2b2559d7db0c169d05b5">More...</a><br /></td></tr>
<tr class="separator:a91d1cfd317dd2b2559d7db0c169d05b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa178d4e691aae15181fca0a3dd991ebd"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classmip_1_1ContentLabel.html">ContentLabel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmip_1_1PolicyHandler.html#aa178d4e691aae15181fca0a3dd991ebd">GetSensitivityLabel</a> (const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;state)=0</td></tr>
<tr class="memdesc:aa178d4e691aae15181fca0a3dd991ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sensitivity label from existing content.  <a href="classmip_1_1PolicyHandler.html#aa178d4e691aae15181fca0a3dd991ebd">More...</a><br /></td></tr>
<tr class="separator:aa178d4e691aae15181fca0a3dd991ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1023dbc9f3523f1ff1e8335da69fa342"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmip_1_1PolicyHandler.html#a1023dbc9f3523f1ff1e8335da69fa342">NotifyCommittedActions</a> (const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;state)=0</td></tr>
<tr class="memdesc:a1023dbc9f3523f1ff1e8335da69fa342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called once the computed actions have been applied, and the data committed to disk.  <a href="classmip_1_1PolicyHandler.html#a1023dbc9f3523f1ff1e8335da69fa342">More...</a><br /></td></tr>
<tr class="separator:a1023dbc9f3523f1ff1e8335da69fa342"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a19c987cbdbb0161daf0d114c134dac36"><td class="memItemLeft" align="right" valign="top">static MIP_API bool __CDECL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmip_1_1PolicyHandler.html#a19c987cbdbb0161daf0d114c134dac36">IsLabeled</a> (const std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt; &amp;metadata, const std::shared_ptr&lt; <a class="el" href="classmip_1_1MipContext.html">MipContext</a> &gt; &amp;mipContext)</td></tr>
<tr class="memdesc:a19c987cbdbb0161daf0d114c134dac36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether metadata contains label artifacts.  <a href="classmip_1_1PolicyHandler.html#a19c987cbdbb0161daf0d114c134dac36">More...</a><br /></td></tr>
<tr class="separator:a19c987cbdbb0161daf0d114c134dac36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides an interface for all policy handler functions on a file. </p>

<p class="definition">Definition at line <a class="el" href="policy__handler_8h_source.html#l00051">51</a> of file <a class="el" href="policy__handler_8h_source.html">policy_handler.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a91d1cfd317dd2b2559d7db0c169d05b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d1cfd317dd2b2559d7db0c169d05b5">&#9670;&nbsp;</a></span>ComputeActions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::vector&lt;std::shared_ptr&lt;<a class="el" href="classmip_1_1Action.html">Action</a>&gt; &gt; mip::PolicyHandler::ComputeActions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the rules in the handler based on the provided state and returns the list of actions to be executed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the current execution state of the content the rules are running on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list of actions that should be applied on the content. </dd></dl>

</div>
</div>
<a id="aa178d4e691aae15181fca0a3dd991ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa178d4e691aae15181fca0a3dd991ebd">&#9670;&nbsp;</a></span>GetSensitivityLabel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="classmip_1_1ContentLabel.html">ContentLabel</a>&gt; mip::PolicyHandler::GetSensitivityLabel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the sensitivity label from existing content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Current state of the content. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the label currently applied to the content. If not labeled, returns empty. </dd></dl>

</div>
</div>
<a id="a19c987cbdbb0161daf0d114c134dac36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c987cbdbb0161daf0d114c134dac36">&#9670;&nbsp;</a></span>IsLabeled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static MIP_API bool __CDECL mip::PolicyHandler::IsLabeled </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmip_1_1MipContext.html">MipContext</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>mipContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether metadata contains label artifacts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>Metadata of file to check </td></tr>
    <tr><td class="paramname">mipContext</td><td>Global MIP context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if metadata contains label artifacts, else false</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This will only detect Microsoft labels. It will not detect 3rd-party labels, even if a tenant is configured to translate 3rd-party label metadata to Microsoft labels. The primary purpose of this API is to allow an application to quickly detect labeled content without any HTTP calls, and ths limitation is caused by the fact that retrieving tenant-specific label mapping would require an HTTP call. </dd></dl>

</div>
</div>
<a id="a1023dbc9f3523f1ff1e8335da69fa342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1023dbc9f3523f1ff1e8335da69fa342">&#9670;&nbsp;</a></span>NotifyCommittedActions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void mip::PolicyHandler::NotifyCommittedActions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmip_1_1ExecutionState.html">ExecutionState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called once the computed actions have been applied, and the data committed to disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>the current execution state of the content after the actions have been committed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: This call sends an audit event. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/api/mip/upe/<a class="el" href="policy__handler_8h_source.html">policy_handler.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemip.html">mip</a></li><li class="navelem"><a class="el" href="classmip_1_1PolicyHandler.html">PolicyHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
